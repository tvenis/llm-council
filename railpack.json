{
  "$schema": "https://schema.railpack.com",
  "packages": {
    "node": "20",
    "python": "3.10"
  },
  "steps": {
    "install": {
      "inputs": [
        "...",
        { "local": true, "include": ["frontend/", "requirements.txt", "backend/", "main.py"] }
      ],
      "commands": [
        "cd frontend && npm ci",
        "python -m venv /app/.venv",
        "/app/.venv/bin/pip install -r requirements.txt"
      ]
    },
    "build": {
      "inputs": [
        { "step": "install" },
        { "local": true, "include": ["frontend/"] }
      ],
      "commands": [
        "cd frontend && npm run build"
      ]
    }
  },
  "deploy": {
    "inputs": [
      { "step": "build" },
      { "local": true, "include": ["backend/", "main.py"] }
    ]
  }
}
